$(function(){function o(n,t){var i=new XMLHttpRequest;i.open("get","http://localhost:2040/api/wax3/timerange?start="+n.toISOString()+"&end="+t.toISOString(),!0);i.onerror=function(n){console.log(n)};i.onload=function(){var n=JSON.parse(i.responseText);for(var t in document.getElementsByClassName("wax3"))t.value="";n.map(function(n){var t=document.getElementById("wax3-"+n.deviceId);t===undefined&&(t=document.getElementById("wax3-unknown"));t.value="deviceId: "+n.deviceId+"x:"+n.accX+",\ny:"+n.accY+",\nz:"+n.accZ})}.bind(this);i.send()}function s(n,t){var i=new XMLHttpRequest;i.open("get","http://localhost:2040/api/rfidstate/timerange?start="+n.toISOString()+"&end="+t.toISOString(),!0);i.onerror=function(n){console.log(n)};i.onload=function(){var t=JSON.parse(i.responseText);for(var n in document.getElementsByClassName("rfid"))n.className="rfid",n.innerText="";t.map(function(n){n.transponders.map(function(t){if(t.active){var i=document.getElementById("rfid-"+t.Id);i===undefined?(i=document.getElementById("rfid-unknown"),i.innerText+="transId: "+t.ID+", padId: "+n.deviceId):(i.className="rfid rfid-on",i.innerText+=n.deviceId)}})})}.bind(this);i.send()}for(var r=document.getElementsByTagName("video"),t=document.getElementById("seekhead"),f=document.getElementById("play"),e=document.getElementById("pause"),n,u=!1,i=0;i<r.length;i++)r[i].addEventListener("loadstart",function(n){n.target._dashjs_player.setMaxAllowedBitrateFor("video",4600)}),r[i].addEventListener("loadedmetadata",function(i){if(n===undefined){n=new TIMINGSRC.TimingObject({range:[0,i.target.duration]});t.min=0;t.step=.25;t.max=i.target.duration;n.on("timeupdate",function(){u||(t.value=n.clock.now());var i=new Date(document.getElementById("referencetime").value),r=new Date(i.setSeconds(i.getSeconds()+(n.clock.now()-5))),f=new Date(i.setSeconds(i.getSeconds()+(n.clock.now()+5)));o(r,f);s(r,f)})}var r=new TIMINGSRC.MediaSync(i.target,n)});f.addEventListener("click",function(){n.update({velocity:1})});e.addEventListener("click",function(){n.update({velocity:0})});t.addEventListener("mousedown",function(){u=!0});t.addEventListener("mouseup",function(t){n.update({position:t.target.value});u=!1})});